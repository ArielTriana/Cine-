
@{
    ViewData["Title"] = "Pago";
    Layout = "_Layout";
}

<h1>Compra de entradas</h1>

<div class="container">
    <div class="row justify-content-center text-center">
        <div class="col-sm-2"></div>
        <div class="col-sm-8">
            <div class=" wrap p-5">
                <div class="row">
                </div>
                <form method="post" asp-action="Pay">

                    <input type="hidden" name="buyForm" value="@TempData["buyForm"]" />

                    <div>
                        <label>Total a pagar: @TempData["totalPrice"]</label>
                        @if ((int)TempData["buyForm"]==1)
                        {
                            <label>Tarjeta de Crédito<input type="text" name="creditCard" /></label>
                        }
                    </div>

                    <div>
                        @if (TempData["code"]!=null)
                        {
                            <label>Paga en puntos: @TempData["totalPoints"]</label>
                        }
                    </div>

                    <div>
                        <label><input type="radio" name="payForm" value="0" />Pago en efectivo</label>
                        @if (TempData["code"] != null && ViewBag.UserPoints > TempData["totalPoints"])
                        {
                            <label><input type="radio" name="payForm" value="1" />Pagar con puntos</label>
                        }
                    </div>

                    <div class="form-group">
                        <input type="submit" value="Pagar" class="btn btn-primary" />
                    </div>
                </form>
            </div>
        </div>
        <div class="col-sm-2"></div>
    </div>
</div>